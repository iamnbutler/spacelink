$(document).ready(function(){var t=4e3;d3.tsv("data/full.tsv",function(t,e){function n(){o>c?c++:(c=1,a++)}var r=200,a=1,o=140,c=1,d=4,i=10,h=4,s=4;chartWidth=o*d,chartHeight=r*i,nodeType=0;var l=d3.select(".chart").attr("width",chartWidth).attr("height",chartHeight),f=l.selectAll("g").data(e).enter().append("rect").attr("id",function(t,e){return"r"+e}).attr("width",d).attr("height",i).each(function(t,r){var o=e[r].response;302==o?nodeType=1:304==o?nodeType=2:404==o&&(nodeType=3),nodeBytes=Math.max(e[r].bytes,1e4)/1e5-.1,$("#r"+r).attr("class","point nodeType"+nodeType).attr("x",function(t,e){return c*d+c*s}).attr("y",function(t,e){return a*i+a*h}).attr("fill-opacity",nodeBytes),0==nodeBytes&&($("#r"+r).remove(),console.log("deleted")),n()})}),setInterval(function(){var t=parseInt($(".chart").offset().top);-3e3>=t?t=0:t-=18,console.log(t),$(".chart").offset({top:t})},t)});