$(document).ready(function(){d3.tsv("data/nasa_19950801.tsv",function(a,d){for(var e=$("#chart"),t=2,n=0,s=0,o,o=0;1681>o;o++){s>41&&(n++,s=0);var i=d[o].response,r=0;302==i?r=1:304==i?r=2:404==i&&(r=3);var v=$('<div id="node-'+o+'" class="node"></div>'),c=n*t,p=s*t,h=Math.max(d[o].bytes,1e4)/1e5-.1;e.append(v);var f=$("#node-"+o);f.css({top:c+"%",left:p+"%",width:t+"%",height:t+"%",opacity:h}).addClass("nodeType"+r),s++}})});